(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d927b36"],{"1f64":function(e,t,r){},"330c":function(e,t,r){"use strict";r("1f64")},ded6:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("el-table",{staticClass:"font-regular-18",staticStyle:{width:"100%"},attrs:{data:e.medicalList}},[a("el-table-column",{attrs:{prop:"batchCode",label:"批次号"}}),a("el-table-column",{attrs:{prop:"category",label:"类别"}}),a("el-table-column",{attrs:{prop:"province",label:"所在省份"}}),a("el-table-column",{attrs:{prop:"resourceName",label:"名称"}}),a("el-table-column",{attrs:{prop:"resourceNum",label:"数量"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{on:{click:function(r){return e.transferDialog(t.row.resourceId,t.row.resourceName)}}},[e._v("转移")])]}}])})],1),a("el-dialog",{staticClass:"loginDialog",attrs:{visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticStyle:{"text-align":"center"}},[a("img",{staticClass:"loginLogo",attrs:{src:r("fe06")}})]),a("div",{staticStyle:{"text-align":"center","margin-top":"72px"}},[a("el-select",{attrs:{placeholder:"请选择用户"},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}},e._l(e.userList,(function(e){return a("el-option",{key:e.userId,attrs:{label:e.name,value:e.userId}})})),1)],1),a("div",{staticStyle:{"text-align":"center","margin-top":"30px"}},[a("el-select",{attrs:{disabled:"",placeholder:"请选择物资"},model:{value:e.diaName,callback:function(t){e.diaName=t},expression:"diaName"}},e._l(e.medicalList,(function(e){return a("el-option",{key:e.resourceId,attrs:{label:e.resourceName,value:e.resourceId}})})),1)],1),a("el-button",{staticClass:"loginButton",attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){return e.transfer()}}},[e._v("转移物资")])],1)],1)},s=[],n=(r("96cf"),r("1da1")),i={data:function(){return{user:"",medical:"",userList:[],medicalList:[],dialogVisible:!1,diaName:"",resourceId:""}},created:function(){this.getMedicalList(),this.getUserList()},methods:{transfer:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.put("/chain/transfter",{toUserId:e.user,resourceId:e.resourceId});case 2:if(r=t.sent,200===r.data.status){t.next=6;break}return console.log(r),t.abrupt("return",e.$message.error("转移物资失败"));case 6:e.$message.success("转移物资成功"),e.$router.go(0);case 8:case"end":return t.stop()}}),t)})))()},transferDialog:function(e,t){this.diaName=t,this.resourceId=e,this.dialogVisible=!0},getMedicalList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("chain/myResources");case 2:if(r=t.sent,200===r.data.status){t.next=5;break}return t.abrupt("return",e.$message.error("获取医疗物资列表失败"));case 5:e.medicalList=r.data.data;case 6:case"end":return t.stop()}}),t)})))()},getUserList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("user/list");case 2:if(r=t.sent,200===r.data.status){t.next=5;break}return t.abrupt("return",e.$message.error("获取用户列表失败"));case 5:e.userList=r.data.data;case 6:case"end":return t.stop()}}),t)})))()}}},c=i,l=(r("330c"),r("2877")),u=Object(l["a"])(c,a,s,!1,null,"3fad50ce",null);t["default"]=u.exports}}]);