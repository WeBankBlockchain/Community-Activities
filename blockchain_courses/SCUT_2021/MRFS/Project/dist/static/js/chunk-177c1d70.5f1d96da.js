(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-177c1d70"],{"2d47":function(e,t,s){},3319:function(e,t,s){"use strict";s("2d47")},b990:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page"},[e._m(0),s("div",{staticClass:"line"}),s("div",{staticClass:"page-item"},[e._m(1),s("el-button",{staticClass:"page-item-button",attrs:{type:"primary"},on:{click:e.clickSetUsername}},[e._v("设置")])],1),s("div",{staticClass:"page-item"},[e._m(2),s("el-button",{staticClass:"page-item-button",attrs:{type:"primary"},on:{click:e.clickSetPassword}},[e._v("设置")])],1),s("div",{staticClass:"page-item"},[e._m(3),s("el-button",{staticClass:"page-item-button",attrs:{type:"primary"},on:{click:e.clickSetMail}},[e._v("设置")])],1),s("el-dialog",{staticClass:"set_Dialog",attrs:{visible:e.showSetUsername,center:"","append-to-body":!0,"lock-scroll":!1,width:"800px"},on:{"update:visible":function(t){e.showSetUsername=t}}},[s("div",{staticClass:"dialog-container"},[s("div",{staticClass:"font-medium-24",staticStyle:{color:"#000000"}},[e._v("修改用户名")]),s("el-form",{ref:"UsernameForm",staticClass:"dialog-container-form",attrs:{model:e.UsernameForm,rules:e.rules}},[s("el-form-item",{attrs:{prop:"oldName"}},[s("el-input",{attrs:{readonly:""},model:{value:e.UsernameForm.oldName,callback:function(t){e.$set(e.UsernameForm,"oldName",t)},expression:"UsernameForm.oldName"}})],1),s("el-form-item",{attrs:{prop:"newName"}},[s("el-input",{attrs:{placeholder:"输入新用户名"},model:{value:e.UsernameForm.newName,callback:function(t){e.$set(e.UsernameForm,"newName",t)},expression:"UsernameForm.newName"}})],1),s("el-form-item",{staticClass:"dialog-container-form-submit"},[s("el-button",{ref:"btnSubmitForm",staticClass:"pri-btn",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("UsernameForm")}}},[e._v("提交")])],1)],1)],1)]),s("el-dialog",{staticClass:"set_Dialog",attrs:{visible:e.showSetPassword,center:"","append-to-body":!0,"lock-scroll":!1,width:"800px"},on:{"update:visible":function(t){e.showSetPassword=t}}},[s("div",{staticClass:"dialog-container"},[s("div",{staticClass:"font-medium-24",staticStyle:{color:"#000000"}},[e._v("修改密码")]),s("el-form",{ref:"PasswordForm",staticClass:"dialog-container-form",attrs:{model:e.PasswordForm,rules:e.rules}},[s("el-form-item",{attrs:{prop:"oldPassword"}},[s("el-input",{attrs:{placeholder:"输入旧密码",type:"password"},model:{value:e.PasswordForm.oldPassword,callback:function(t){e.$set(e.PasswordForm,"oldPassword",t)},expression:"PasswordForm.oldPassword"}})],1),s("el-form-item",{attrs:{prop:"newPassword"}},[s("el-input",{attrs:{placeholder:"输入新密码",type:"password"},model:{value:e.PasswordForm.newPassword,callback:function(t){e.$set(e.PasswordForm,"newPassword",t)},expression:"PasswordForm.newPassword"}})],1),s("el-form-item",{attrs:{prop:"newPasswordAgain"}},[s("el-input",{attrs:{placeholder:"再次输入新密码",type:"password"},model:{value:e.PasswordForm.newPasswordAgain,callback:function(t){e.$set(e.PasswordForm,"newPasswordAgain",t)},expression:"PasswordForm.newPasswordAgain"}})],1),s("el-form-item",{staticClass:"dialog-container-form-submit"},[s("el-button",{ref:"btnSubmitForm",staticClass:"pri-btn",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("PasswordForm")}}},[e._v("提交")])],1)],1)],1)]),s("el-dialog",{staticClass:"set_Dialog",attrs:{visible:e.showSetMail,center:"","append-to-body":!0,"lock-scroll":!1,width:"800px"},on:{"update:visible":function(t){e.showSetMail=t}}},[s("div",{staticClass:"dialog-container"},[s("div",{staticClass:"font-medium-24",staticStyle:{color:"#000000"}},[e._v("修改邮箱")]),s("el-form",{ref:"MailForm",staticClass:"dialog-container-form",attrs:{model:e.MailForm,rules:e.rules}},[s("el-form-item",{attrs:{prop:"oldMail"}},[s("el-input",{attrs:{readonly:"",placeholder:"输入旧邮箱"},model:{value:e.MailForm.oldMail,callback:function(t){e.$set(e.MailForm,"oldMail",t)},expression:"MailForm.oldMail"}})],1),s("el-form-item",{attrs:{prop:"newMail"}},[s("el-input",{attrs:{placeholder:"输入新邮箱"},model:{value:e.MailForm.newMail,callback:function(t){e.$set(e.MailForm,"newMail",t)},expression:"MailForm.newMail"}})],1),s("el-form-item",{staticClass:"flex-item",attrs:{prop:"authCode"}},[s("el-input",{attrs:{placeholder:"输入验证码"},model:{value:e.MailForm.authCode,callback:function(t){e.$set(e.MailForm,"authCode",t)},expression:"MailForm.authCode"}}),s("el-button",{staticClass:"verif-btn",attrs:{type:"primary"}},[e._v("获取验证码")])],1),s("el-form-item",{staticClass:"dialog-container-form-submit"},[s("el-button",{ref:"btnSubmitForm",staticClass:"pri-btn",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("MailForm")}}},[e._v("提交")])],1)],1)],1)])],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-item"},[a("img",{attrs:{src:s("53c2"),alt:""}}),a("span",{staticClass:"font-regular-18 page-item-subTitle"},[e._v("暂未上传图像，默认使用微信头像")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-item-title"},[s("p",{staticClass:"font-medium-24"},[e._v("设置用户名")]),s("p",{staticClass:"font-regular-18"},[e._v("设置用户名可用于账号密码登录")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-item-title"},[s("p",{staticClass:"font-medium-24"},[e._v("设置密码")]),s("p",{staticClass:"font-regular-18"},[e._v("设置密码可用于账号密码登录")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-item-title"},[s("p",{staticClass:"font-medium-24"},[e._v("绑定邮箱")]),s("p",{staticClass:"font-regular-18"},[e._v("设置邮箱可用于账号密码登录")])])}],o=(s("b0c0"),{data:function(){var e=this,t=function(t,s,a){s!=e.userMsg.password?a(new Error("输入密码非原密码，请重新输入！")):a()},s=function(t,s,a){s!=e.PasswordForm.newPassword?a(new Error("两次输入密码不一致,请重新输入！")):a()},a=function(e,t,s){var a=/^([A-Za-z0-9_\-\.]+)@([A-Za-z0-9_\-\.]+)\.([A-Za-z]{2,6})$/g;a.test(t)?s():s(new Error("请输入正确的邮箱格式"))};return{showSetUsername:!1,showSetPassword:!1,showSetMail:!1,rules:{oldName:[{}],newName:[{required:!0,message:"请输入新用户名",trigger:"blur"},{min:1,max:10,message:"长度在 1 到 10 个字符",trigger:"blur"}],oldPassword:[{required:!0,message:"请输入旧密码",trigger:"blur"},{validator:t,trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"}],newPasswordAgain:[{required:!0,message:"请再次输入新密码",trigger:"blur"},{validator:s,trigger:"blur"}],oldMail:[{}],newMail:[{required:!0,message:"请输入新邮箱账号",trigger:"blur"},{validator:a,trigger:"blur"}],authCode:[{required:!0,message:"请输入验证码",trigger:"blur"}]},UsernameForm:{oldName:"",newName:""},PasswordForm:{oldPassword:"",newPassword:"",newPasswordAgain:""},MailForm:{oldMail:"",newMail:"",authCode:""}}},computed:{userMsg:function(){return this.$store.state.user}},created:function(){this.UsernameForm.oldName=this.userMsg.name,this.MailForm.oldMail=this.userMsg.email},methods:{clickSetUsername:function(){this.showSetUsername=!0},clickSetPassword:function(){this.showSetPassword=!0},clickSetMail:function(){this.showSetMail=!0},submitForm:function(e){var t=this;this.$refs[e].validate((function(s){s?t.$confirm("确认修改",{type:"warning"}).then((function(){var s="",a="";"UsernameForm"===e?(s="changeUserName",a=t.UsernameForm.newName):"PasswordForm"===e?(s="changeUserPassword",a=t.PasswordForm.newPassword):"MailForm"===e&&(s="changeUserEmail",a=t.MailForm.newMail),t.$store.dispatch(s,a).then((function(e){200==e.status&&(t.$message({type:"info",message:"修改成功"}),t.UsernameForm.oldName=t.userMsg.name,t.MailForm.oldMail=t.userMsg.email)})).catch((function(){t.$message({type:"info",message:"修改操作出现问题，请重试"})}))})).catch((function(){t.$message({type:"info",message:"已取消修改"})})):alert("请先按要求填写信息！")}))}}}),i=o,l=(s("3319"),s("2877")),n=Object(l["a"])(i,a,r,!1,null,"2d7ff6c0",null);t["default"]=n.exports}}]);