(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30be5cc6"],{"4f93":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page"},[r("inner-header"),r("div",{staticClass:"main"},[r("el-container",[r("el-aside",[r("div",{staticClass:"userInfo",on:{click:function(t){return e.onChangeFragment("personal")}}},[r("img",{attrs:{src:n("53c2"),alt:""}}),r("span",{staticClass:"font-regular-18",style:{color:"personal"===e.currentcomponentId?"#302fa6":"#000000"}},[e._v("用户账号")])]),r("div",{staticClass:"myMessage",on:{click:function(t){return e.onChangeFragment("message")}}},[r("p",{staticClass:"font-regular-18",style:{color:"message"===e.currentcomponentId?"#302fa6":"#000000"}},[e._v("我的物资")]),r("span",[e._v(e._s(e.medicalNumber))])]),r("div",{staticClass:"audit-container"},[r("p",{staticClass:"font-regular-18",style:{color:"audited"===e.currentcomponentId?"#302fa6":"#000000"},on:{click:function(t){return e.product("audited")}}},[e._v("生产物资 ")]),r("div",{staticClass:"line"}),r("p",{staticClass:"font-regular-18",style:{color:"unAudited"===e.currentcomponentId?"#302fa6":"#000000"},on:{click:function(t){return e.consume("unAudited")}}},[e._v("消耗物资 ")])])]),r("div",{staticClass:"main-right"},[r("keep-alive",[r(e.currentcomponentId,{ref:e.currentcomponentId,tag:"component"})],1)],1)],1)],1),r("div",{staticClass:"headfooter clearfix"},[r("headfooter")],1)],1)},a=[],s=(n("d3b7"),n("96cf"),n("1da1")),c=n("0430"),o={name:"MyHomePage",components:{headfooter:c["a"],personal:function(){return n.e("chunk-177c1d70").then(n.bind(null,"b990"))},message:function(){return n.e("chunk-1d927b36").then(n.bind(null,"ded6"))},audited:function(){return n.e("chunk-021f0aa5").then(n.bind(null,"4c42"))},unAudited:function(){return n.e("chunk-b10e60b0").then(n.bind(null,"3576"))}},data:function(){return{medicalNumber:0,selectItemIndex:0,id:""}},created:function(){this.getNum(),this.getId()},computed:{user:function(){return this.$store.state.user},currentcomponentId:function(){return this.$store.state.homePageCompId}},methods:{getId:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("user/info");case 2:if(n=t.sent,200===n.data.status){t.next=6;break}return console.log(n),t.abrupt("return",e.$message.error("获取用户信息失败"));case 6:e.id=n.data.data.role;case 7:case"end":return t.stop()}}),t)})))()},getNum:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("chain/myResources");case 2:if(n=t.sent,200===n.data.status){t.next=5;break}return t.abrupt("return",e.$message.error("获取医疗物资列表失败"));case 5:e.medicalNumber=n.data.data.length;case 6:case"end":return t.stop()}}),t)})))()},onChangeFragment:function(e){this.$store.commit("changeHomePageCompId",e)},product:function(){if("factory"!==this.id)return this.$message.error("你不是生产商，无权生产物资");this.$store.commit("changeHomePageCompId","audited")},consume:function(){if("hospital"!==this.id)return this.$message.error("你不是医院，无权消耗物资");this.$store.commit("changeHomePageCompId","unAudited")}}},i=o,u=(n("bff6"),n("2877")),d=Object(u["a"])(i,r,a,!1,null,"4e9ae3d9",null);t["default"]=d.exports},bff6:function(e,t,n){"use strict";n("f1f8")},f1f8:function(e,t,n){}}]);